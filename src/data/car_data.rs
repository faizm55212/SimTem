#[allow(dead_code)]
pub struct CarModelData {
    pub car_id: i32,
    pub shift_rpm: i32,
    pub bb_offset: f32,
    pub brake_pressure_co: [f32; 2],
    pub max_steering_angle: i32,
    pub car_model: &'static str,
}

pub fn _get_car(id: i32) -> Option<&'static CarModelData> {
    CAR_MODELS.iter().find(|c| c.car_id == id)
}

pub fn get_car_by_name(name: &str) -> Option<&'static CarModelData> {
    CAR_MODELS.iter().find(|c| c.car_model == name)
}

pub fn parse_static_string(chars: &[u16]) -> String {
    let len = chars.iter().position(|&c| c == 0).unwrap_or(chars.len());
    String::from_utf16_lossy(&chars[0..len])
}

pub const CAR_MODELS: [CarModelData; 41] = [
    // GT3-2018
    CarModelData {
        car_id: 12,
        shift_rpm: 0,
        bb_offset: -7.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 320,
        car_model: "amr_v12_vantage_gt3",
    },
    CarModelData {
        car_id: 3,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 360,
        car_model: "audi_r8_lms",
    },
    CarModelData {
        car_id: 11,
        shift_rpm: 0,
        bb_offset: -7.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 320,
        car_model: "bentley_continental_gt3_2016",
    },
    CarModelData {
        car_id: 8,
        shift_rpm: 6900,
        bb_offset: -7.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 320,
        car_model: "bentley_continental_gt3_2018",
    },
    CarModelData {
        car_id: 7,
        shift_rpm: 0,
        bb_offset: -15.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 283,
        car_model: "bmw_m6_gt3",
    },
    CarModelData {
        car_id: 14,
        shift_rpm: 0,
        bb_offset: -7.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 360,
        car_model: "jaguar_g3",
    },
    CarModelData {
        car_id: 2,
        shift_rpm: 0,
        bb_offset: -17.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 240,
        car_model: "ferrari_488_gt3",
    },
    CarModelData {
        car_id: 17,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 310,
        car_model: "honda_nsx_gt3",
    },
    CarModelData {
        car_id: 13,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 360,
        car_model: "lamborghini_gallardo_rex",
    },
    CarModelData {
        car_id: 4,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 310,
        car_model: "lamborghini_huracan_gt3",
    },
    CarModelData {
        car_id: 18,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 310,
        car_model: "lamborghini_huracan_st",
    },
    CarModelData {
        car_id: 15,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 320,
        car_model: "lexus_rc_f_gt3",
    },
    CarModelData {
        car_id: 5,
        shift_rpm: 0,
        bb_offset: -17.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 240,
        car_model: "mclaren_650s_gt3",
    },
    CarModelData {
        car_id: 1,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 320,
        car_model: "mercedes_amg_gt3",
    },
    CarModelData {
        car_id: 10,
        shift_rpm: 0,
        bb_offset: -15.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 320,
        car_model: "nissan_gt_r_gt3_2017",
    },
    CarModelData {
        car_id: 6,
        shift_rpm: 0,
        bb_offset: -15.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 320,
        car_model: "nissan_gt_r_gt3_2018",
    },
    CarModelData {
        car_id: 0,
        shift_rpm: 0,
        bb_offset: -21.0,
        brake_pressure_co: [7.1497, 6.7715],
        max_steering_angle: 400,
        car_model: "porsche_991_gt3_r",
    },
    CarModelData {
        car_id: 9,
        shift_rpm: 0,
        bb_offset: -5.0,
        brake_pressure_co: [7.1497, 6.7715],
        max_steering_angle: 400,
        car_model: "porsche_991ii_gt3_cup",
    },
    // GT3-2019
    CarModelData {
        car_id: 20,
        shift_rpm: 0,
        bb_offset: -7.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 320,
        car_model: "amr_v8_vantage_gt3",
    },
    CarModelData {
        car_id: 19,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 360,
        car_model: "audi_r8_lms_evo",
    },
    CarModelData {
        car_id: 21,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 310,
        car_model: "honda_nsx_gt3_evo",
    },
    CarModelData {
        car_id: 16,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 310,
        car_model: "lamborghini_huracan_gt3_evo",
    },
    CarModelData {
        car_id: 22,
        shift_rpm: 0,
        bb_offset: -17.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 240,
        car_model: "mclaren_720s_gt3",
    },
    CarModelData {
        car_id: 23,
        shift_rpm: 8700,
        bb_offset: -21.0,
        brake_pressure_co: [7.1497, 6.7715],
        max_steering_angle: 400,
        car_model: "porsche_991ii_gt3_r",
    },
    // GT3-2023
    CarModelData {
        car_id: 24,
        shift_rpm: 9000,
        bb_offset: -21.0,
        brake_pressure_co: [7.1497, 6.7715],
        max_steering_angle: 400,
        car_model: "porsche_992_gt3_r",
    },
    // GT4
    CarModelData {
        car_id: 50,
        shift_rpm: 0,
        bb_offset: -15.0,
        brake_pressure_co: [10.0, 10.0],
        max_steering_angle: 360,
        car_model: "alpine_a110_gt4",
    },
    CarModelData {
        car_id: 51,
        shift_rpm: 0,
        bb_offset: -20.0,
        brake_pressure_co: [10.0, 10.0],
        max_steering_angle: 320,
        car_model: "amr_v8_vantage_gt4",
    },
    CarModelData {
        car_id: 52,
        shift_rpm: 0,
        bb_offset: -15.0,
        brake_pressure_co: [10.0, 10.0],
        max_steering_angle: 360,
        car_model: "audi_r8_gt4",
    },
    CarModelData {
        car_id: 53,
        shift_rpm: 7000,
        bb_offset: -22.0,
        brake_pressure_co: [7.2886, 10.0],
        max_steering_angle: 246,
        car_model: "bmw_m4_gt4",
    },
    CarModelData {
        car_id: 55,
        shift_rpm: 0,
        bb_offset: -18.0,
        brake_pressure_co: [10.0, 10.0],
        max_steering_angle: 360,
        car_model: "chevrolet_camaro_gt4r",
    },
    CarModelData {
        car_id: 56,
        shift_rpm: 0,
        bb_offset: -18.0,
        brake_pressure_co: [10.0, 10.0],
        max_steering_angle: 360,
        car_model: "ginetta_g55_gt4",
    },
    CarModelData {
        car_id: 57,
        shift_rpm: 0,
        bb_offset: -20.0,
        brake_pressure_co: [10.0, 10.0],
        max_steering_angle: 290,
        car_model: "ktm_xbow_gt4",
    },
    CarModelData {
        car_id: 58,
        shift_rpm: 0,
        bb_offset: -15.0,
        brake_pressure_co: [7.7768, 7.6142],
        max_steering_angle: 450,
        car_model: "maserati_mc_gt4",
    },
    CarModelData {
        car_id: 59,
        shift_rpm: 0,
        bb_offset: -9.0,
        brake_pressure_co: [10.0, 10.0],
        max_steering_angle: 240,
        car_model: "mclaren_570s_gt4",
    },
    CarModelData {
        car_id: 60,
        shift_rpm: 0,
        bb_offset: -20.0,
        brake_pressure_co: [10.0, 10.0],
        max_steering_angle: 246,
        car_model: "mercedes_amg_gt4",
    },
    CarModelData {
        car_id: 61,
        shift_rpm: 0,
        bb_offset: -20.0,
        brake_pressure_co: [10.0, 10.0],
        max_steering_angle: 400,
        car_model: "porsche_718_cayman_gt4_mr",
    },
    // GT3-2020/21 & Challengers
    CarModelData {
        car_id: 24,
        shift_rpm: 0,
        bb_offset: -17.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 240,
        car_model: "ferrari_488_gt3_evo",
    },
    CarModelData {
        car_id: 25,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 320,
        car_model: "mercedes_amg_gt3_evo",
    },
    CarModelData {
        car_id: 30,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.9585, 7.9585],
        max_steering_angle: 270,
        car_model: "bmw_m4_gt3",
    },
    CarModelData {
        car_id: 31,
        shift_rpm: 0,
        bb_offset: -14.0,
        brake_pressure_co: [7.5980, 7.4855],
        max_steering_angle: 360,
        car_model: "audi_r8_lms_evo_ii",
    },
    CarModelData {
        car_id: 27,
        shift_rpm: 7000,
        bb_offset: -17.0,
        brake_pressure_co: [7.2886, 10.0],
        max_steering_angle: 180,
        car_model: "bmw_m2_cs_racing",
    },
];
